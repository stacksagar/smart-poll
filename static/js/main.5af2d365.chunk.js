(this["webpackJsonpfirst-react-app"]=this["webpackJsonpfirst-react-app"]||[]).push([[0],{25:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),i=a.n(s),l=a(9),o=a.n(l),c=a(3),r=a(4),d=a(6),h=a(5),m=a(2),b=a.n(m),p=[{id:1,title:"What is Your Favorite Programming Language",description:"There are lot of popular programming languages. Among them what is your favorite?",created:new Date,totalVote:0,opinions:[],options:[{id:Math.floor(1e5*Math.random()),value:"Python",vote:0},{id:Math.floor(1e5*Math.random()),value:"JavaScript",vote:0},{id:Math.floor(1e5*Math.random()),value:"C++",vote:0},{id:Math.floor(1e5*Math.random()),value:"Java",vote:0}]},{id:2,title:"Which Front-End Framework/Library Do You Prefer?",created:new Date,totalVote:0,opinions:[],description:"JavaScript has a vast veriety of front-end Libraries and Framework. Each and everyday we have a new one, among those which front-end frameworks you like and prefer others?",options:[{id:Math.floor(1e5*Math.random()),value:"Reactjs",vote:0},{id:Math.floor(1e5*Math.random()),value:"Angular",vote:0},{id:Math.floor(1e5*Math.random()),value:"Vue",vote:0},{id:Math.floor(1e5*Math.random()),value:"Svelte",vote:0}]},{id:3,title:"What is the best way to create Android App?",description:"I want to create an Android Application but i don't understand which technologies whould be better. There are lot of technology availabes and my application is not so bulky. I need an simple and easy solution, so that i can prototype  within no time. please share your opinions",created:new Date,totalVote:0,opinions:[],options:[{id:Math.floor(1e5*Math.random()),value:"Java",vote:0},{id:Math.floor(1e5*Math.random()),value:"React Native",vote:0},{id:Math.floor(1e5*Math.random()),value:"Flutter",vote:0},{id:Math.floor(1e5*Math.random()),value:"Kotlin",vote:0}]}],u=a(10),j=a.p+"static/media/loading.30c0aa7c.gif";function v(){return Object(n.jsx)("div",{style:{zIndex:"999"},className:"modal d-block d-flex justify-content-center align-items-center",children:Object(n.jsx)("img",{className:"w-25",src:j,alt:""})})}var g=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={title:"",description:"",options:[{id:b.a.generate(),value:"",vote:0},{id:b.a.generate(),value:"",vote:0}],errors:{},isLoading:!1},e.changeHandler=function(t){e.setState(Object(u.a)({},t.target.id,t.target.value))},e.optionChangeHandler=function(t,a){var n=e.state.options;n[a].value=t,e.setState({options:n})},e.createOption=function(){e.state.options.length<5&&e.setState({options:e.state.options.concat({id:b.a.generate(),value:"",vote:0})})},e.deleteOption=function(t){var a=e.state.options;a.splice(t,1),e.setState({options:a})},e.submit=function(t){t.preventDefault();var a=e.state,n={title:a.title,description:a.description,options:a.options},s=e.errorsHandler(),i=s.errors;s.isValid?(e.setState({isLoading:!0}),setTimeout((function(){e.setState({isLoading:!1}),e.props.submit(n),e.setState({title:"",description:"",options:[{id:b.a.generate(),value:"",vote:0},{id:b.a.generate(),value:"",vote:0}],errors:{}}),t.target.reset(),e.props.toggleModal()}),800)):e.setState({errors:i})},e.errorsHandler=function(){var t={},a=e.state,n=a.title,s=a.description,i=a.options;n?n.length>0&&n.split(" ").length<2&&(t.title="title too short, min 2 words required!"):t.title="Please provide title!",s||(t.description="Please provide description");var l=[];return i.forEach((function(e,t){e.value||(l[t]="empty! please fill this option")})),l.length>0&&(t.options=l),{errors:t,isValid:0===Object.keys(t).length}},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.selectedPoll;e&&Object.keys(e).length>0&&this.setState({title:e.title,description:e.description,options:e.options})}},{key:"render",value:function(){var e=this,t=this.state,a=t.title,s=t.description,i=t.options,l=t.errors;return Object(n.jsxs)("form",{onSubmit:this.submit,children:[Object(n.jsx)("input",{onChange:this.changeHandler,value:a,id:"title",type:"text",placeholder:"poll title...",className:"form-control form-control-sm ".concat(!a||l.title?"is-invalid":"is-valid")}),!a||l.title?Object(n.jsx)("small",{className:"invalid-feedback mt-0",children:l.title}):"",Object(n.jsx)("textarea",{onChange:this.changeHandler,value:s,id:"description",className:"form-control form-control-sm mt-1 ".concat(s?"is-valid":"is-invalid"),placeholder:"poll description..."}),!s&&Object(n.jsx)("small",{className:"invalid-feedback mt-0",children:l.description}),Object(n.jsx)("button",{onClick:this.createOption,type:"button",className:"btn btn-success btn-sm mt-2",disabled:5===i.length,children:"Add Option"}),i.map((function(t,a){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"mt-1 d-flex",children:[Object(n.jsx)("input",{onChange:function(t){return e.optionChangeHandler(t.target.value,a)},value:t.value,type:"text",placeholder:"option name...",className:"form-control form-control-sm d-block ".concat(i[a].value?"is-valid":"is-invalid")}),Object(n.jsx)("button",{onClick:function(){return e.deleteOption(a)},type:"button",className:"btn btn-danger btn-sm ml-2",disabled:2===i.length,children:"Delete"})]},a),!i[a].value&&Object(n.jsx)("small",{className:"mt-0 d-block",children:l.options&&l.options[a]})]},t.id)})),Object(n.jsx)("button",{type:"submit",id:"submit",className:"btn btn-primary btn-sm mt-1",children:this.props.buttonValue}),this.state.isLoading&&Object(n.jsx)(v,{})]})}}]),a}(i.a.Component),f=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={modalOpen:!1},e.toggleModal=function(){return e.setState({modalOpen:!e.state.modalOpen})},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props.polls;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"form-group d-flex justify-content-between",children:[Object(n.jsx)("input",{onChange:this.props.setSearchTerm,value:this.props.searchTerm,type:"text",placeholder:"Search..",className:"form-control form-control-sm"}),Object(n.jsxs)("button",{onClick:this.toggleModal,className:"btn btn-primary btn-sm ml-1",children:["Create",Object(n.jsx)("span",{className:"text-primary",children:"_"}),"Poll"]})]}),this.props.polls.length>0?Object(n.jsxs)("div",{className:"p-3 bg-secondary",children:[Object(n.jsx)("p",{className:"badge badge-dark",children:"Polls Lists"}),t.map((function(t){return Object(n.jsx)("button",{onClick:function(){return e.props.setSelected(t.id)},className:"btn btn-light btn-sm mt-1 btn-block text-justify",children:Object(n.jsx)("small",{children:t.title.length>25?t.title.substr(0,25)+"...":t.title})},t.id)}))]}):Object(n.jsxs)("h5",{className:"text-info",children:["There is no poll! ",Object(n.jsx)("small",{className:"d-block text-warning",children:"create poll!"})]}),Object(n.jsx)("div",{style:{background:"#00000099"},className:"text-dark modal ".concat(this.state.modalOpen&&"d-block"),children:Object(n.jsx)("div",{className:"modal-dialog",children:Object(n.jsxs)("div",{className:"modal-content",children:[Object(n.jsxs)("div",{className:"modal-header py-1",children:[Object(n.jsx)("h5",{className:"modal-title text-primary",children:"Create New Poll"}),Object(n.jsx)("button",{onClick:this.toggleModal,className:"btn btn-danger btn-sm px-3",children:"\xd7"})]}),Object(n.jsx)("div",{className:"modal-body",children:Object(n.jsx)(g,{toggleModal:this.toggleModal,buttonValue:"Create Poll",submit:this.props.createPoll})})]})})})]})}}]),a}(s.Component),O=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={name:"",opinion:"",filterValue:"All",modalOpen:!1,opinionView:"List",isLoading:!1},e.changeOpinionView=function(t){e.setState({opinionView:t.target.id})},e.toggleModal=function(){return e.setState({modalOpen:!e.state.modalOpen})},e.setFilterValue=function(t){e.setState({filterValue:t.target.innerText}),document.querySelectorAll(".filterBtn").forEach((function(e){e.classList.add("btn-sm"),e.classList.replace("btn-dark","btn-light")})),t.target.classList.remove("btn-sm"),t.target.classList.replace("btn-light","btn-dark")},e.setName=function(t){e.setState({name:t.target.value})},e.setOpinion=function(t){e.setState({opinion:t.target.id})},e.submit=function(t){t.preventDefault(),e.state.name&&(e.setState({isLoading:!0}),setTimeout((function(){e.setState({isLoading:!1}),e.props.getOpinion(e.state.name,e.state.opinion),e.setState({name:"",opinion:""}),t.target.reset()}),500))},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.selectedPoll,s=t.updatePoll;return 0===Object.keys(a).length?Object(n.jsx)("h4",{className:"text-warning",children:"Please Select One Poll & Enjoy it."}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("form",{onSubmit:this.submit,children:[Object(n.jsx)("h4",{className:"text-light",children:a.title}),Object(n.jsx)("p",{className:"text-info",children:a.description}),Object(n.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(n.jsxs)("h4",{className:"text-success",children:["Select One & ",Object(n.jsx)("small",{className:"text-warning",children:"Press vote button"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{onClick:this.toggleModal,type:"button",className:"btn btn-warning btn-sm mr-2",children:"Edit"}),Object(n.jsx)("button",{onClick:function(){return e.props.deletePoll(a.id)},type:"button",className:"btn btn-danger btn-sm",children:"Delete"})]})]}),Object(n.jsx)("ul",{className:"list-group mt-2",children:a.options.map((function(t){return Object(n.jsxs)("div",{className:"list-group-item d-flex justify-content-between py-1 bg-secondary",children:[Object(n.jsxs)("label",{htmlFor:t.value,className:"form-check-label",children:[Object(n.jsx)("input",{onClick:e.setOpinion,type:"radio",name:"poll",className:"mr-1",id:t.value}),t.value]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{className:"badge badge-light m-0 mr-3",children:t.vote}),Object(n.jsxs)("p",{className:"badge badge-dark m-0",children:[t.vote>0&&a.totalVote>0?(100*t.vote/a.totalVote).toFixed(2):0,"%"]})]})]},t.id)}))}),this.state.isLoading&&Object(n.jsx)(v,{}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("input",{onChange:this.setName,type:"text",placeholder:"Your name...",className:"my-2 form-control form-control-sm ".concat(this.state.name?"is-valid":"is-invalid")}),Object(n.jsx)("button",{type:"submit",disabled:!this.state.opinion,className:"btn btn-primary btn-sm btn-block",children:"Vote"})]})]}),Object(n.jsxs)("div",{className:"mt-3 p-3 bg-secondary rounded",children:[Object(n.jsx)("p",{className:"badge badge-success d-block py-2",children:"Voted Informations"}),Object(n.jsxs)("div",{className:"",children:[Object(n.jsx)("button",{onClick:this.setFilterValue,className:"filterBtn btn btn-light mr-1 ".concat("All"!==this.state.filterValue?"btn-sm":"btn-dark"),children:"All"}),a.options.map((function(t){return Object(n.jsx)("button",{onClick:e.setFilterValue,className:"filterBtn btn btn-light btn-sm mr-1",children:t.value},t.id)}))]}),Object(n.jsxs)("div",{className:"d-flex my-2 bg-dark justify-content-center py-2",children:[Object(n.jsxs)("label",{htmlFor:"List",className:"form-check-label mr-4",children:[Object(n.jsx)("input",{onChange:this.changeOpinionView,checked:"List"===this.state.opinionView,type:"radio",id:"List",name:"opinionView"})," List View"]}),Object(n.jsxs)("label",{htmlFor:"Table",className:"form-check-label",children:[Object(n.jsx)("input",{onChange:this.changeOpinionView,checked:"Table"===this.state.opinionView,type:"radio",id:"Table",name:"opinionView"})," Table View"]})]}),a.opinions.length>0?Object(n.jsxs)(n.Fragment,{children:["Table"===this.state.opinionView&&Object(n.jsx)("div",{className:"table-responsive mt-3",children:Object(n.jsxs)("table",{className:"table text-white text-center",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",className:"text-warning",children:Object(n.jsx)("b",{children:"Name"})}),Object(n.jsx)("th",{scope:"col",className:"text-warning",children:Object(n.jsx)("b",{children:"Voted"})})]})}),Object(n.jsx)("tbody",{children:a.opinions.map((function(t){return"All"===e.state.filterValue||e.state.filterValue===t.voted?Object(n.jsxs)("tr",{children:[" ",Object(n.jsx)("td",{children:t.name})," ",Object(n.jsx)("td",{children:t.voted})," "]}):Object(n.jsx)(n.Fragment,{})}))})]})}),Object(n.jsx)("ul",{className:"list-group mt-4",children:"List"===this.state.opinionView&&a.opinions.map((function(t){return"All"===e.state.filterValue||e.state.filterValue===t.voted?Object(n.jsxs)("li",{className:"list-group-item py-1 mb-1 bg-info d-flex justify-content-between",children:[Object(n.jsxs)("span",{children:[Object(n.jsx)("span",{className:"text-warning",children:" name: "}),t.name]}),Object(n.jsxs)("span",{children:[Object(n.jsx)("span",{className:"text-warning",children:" voted:"})," ",t.voted]})]},t.id):Object(n.jsx)(n.Fragment,{})}))})]}):Object(n.jsx)("h4",{className:"text-warning my-4",children:"Empty Vote"})]}),this.state.modalOpen&&Object(n.jsx)("div",{style:{background:"#00000099"},className:"text-dark modal d-block",children:Object(n.jsx)("div",{className:"modal-dialog",children:Object(n.jsxs)("div",{className:"modal-content",children:[Object(n.jsxs)("div",{className:"modal-header py-1",children:[Object(n.jsx)("h5",{className:"modal-title text-primary",children:"Update Poll"}),Object(n.jsx)("button",{onClick:this.toggleModal,className:"btn btn-danger btn-sm px-3",children:"\xd7"})]}),Object(n.jsx)("div",{className:"modal-body",children:Object(n.jsx)(g,{toggleModal:this.toggleModal,buttonValue:"Update",selectedPoll:a,submit:s})})]})})})]})}}]),a}(s.Component),x=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={polls:[],selectedPoll:{},searchTerm:""},e.setSelected=function(t){var a=e.state.polls.find((function(e){return e.id===t}));e.setState({selectedPoll:a})},e.getOpinion=function(t,a){var n=e.state.polls,s=n.find((function(t){return t.id===e.state.selectedPoll.id}));s.opinions.push({id:b.a.generate(),name:t,voted:a}),s.totalVote++,s.options.find((function(e){return e.value===a})).vote++,e.setState({polls:n})},e.createPoll=function(t){t.id=b.a.generate(),t.created=new Date,t.opinions=[],t.totalVote=0,e.setState({polls:e.state.polls.concat(t)})},e.updatePoll=function(t){var a=e.state.polls,n=a.find((function(t){return t.id===e.state.selectedPoll.id}));n.title=t.title,n.description=t.description,n.options=t.options,e.setState({polls:a})},e.deletePoll=function(t){e.setState({polls:e.state.polls.filter((function(e){return e.id!==t})),selectedPoll:{}})},e.setSearchTerm=function(t){e.setState({searchTerm:t.target.value})},e.searchResults=function(){return e.state.polls.filter((function(t){return t.title.toLowerCase().includes(e.state.searchTerm.toLowerCase())}))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.setState({polls:p})}},{key:"render",value:function(){var e=this.searchResults();return Object(n.jsx)("div",{style:{width:"100%",height:"100vh",overflowY:"scroll",background:"#100e17",color:"#ffffff"},children:Object(n.jsx)("div",{className:"col-11 bg-dark mx-auto p-4",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-4",children:Object(n.jsx)(f,{polls:e,setSelected:this.setSelected,createPoll:this.createPoll,searchTerm:this.state.searchTerm,setSearchTerm:this.setSearchTerm})}),Object(n.jsx)("div",{className:"col-8",children:Object(n.jsx)(O,{updatePoll:this.updatePoll,selectedPoll:this.state.selectedPoll,getOpinion:this.getOpinion,deletePoll:this.deletePoll})})]})})})}}]),a}(s.Component);function y(){return Object(s.useEffect)((function(){document.title="Smart Poll Voting Application"}),[]),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(x,{})})}a(24);o.a.render(Object(n.jsxs)(i.a.StrictMode,{children:[Object(n.jsx)(y,{}),Object(n.jsx)("div",{className:""})]}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.5af2d365.chunk.js.map